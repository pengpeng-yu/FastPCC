## Build MinkowskiEngine
```shell
# Please refer to https://github.com/NVIDIA/MinkowskiEngine?tab=readme-ov-file#installation
git clone https://github.com/daizhirui/MinkowskiEngine.git
cd MinkowskiEngine
git checkout fix-for-cuda-12.2  # checkout this branch if you are using cuda 12.1/12.2
python -c "import torch; print(torch.cuda.is_available(), torch.version.cuda)"
nvcc -V
sudo apt install build-essential python3-dev libopenblas-dev
python setup.py install --blas_include_dirs=${CONDA_PREFIX}/include --blas=openblas
```


## Build G-PCC
```shell
git clone https://github.com/MPEGGroup/mpeg-pcc-tmc13.git
cd mpeg-pcc-tmc13
cd cfg
../scripts/gen-cfg.sh --all
cd ..
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_FLAGS_RELEASE="-O3 -march=native -DNDEBUG" -DCMAKE_CXX_FLAGS_RELEASE="-O3 -march=native -DNDEBUG" ..
make -j16
./tmc3/tmc3 --help
```


## Build V-PCC
```shell
git clone https://github.com/MPEGGroup/mpeg-pcc-tmc2.git  # ssh connection is more stable, e.g., git clone git@github.com:MPEGGroup/mpeg-pcc-tmc2.git
cd mpeg-pcc-tmc2
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_FLAGS_RELEASE="-O3 -march=native -DNDEBUG" -DCMAKE_CXX_FLAGS_RELEASE="-O3 -march=native -DNDEBUG" ..
make -j16
```


## Build PCQM
Optional. Used by `lib/metrics/pcqm_wrapper.py`.
```shell
git clone https://github.com/pengpeng-yu/PCQM.git
# Official implementation: https://github.com/MEPP-team/PCQM
# I made minor modifications to support the float64 coordinates generated by mpeg-pcc-tmc13.
cd PCQM
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_FLAGS_RELEASE="-O3 -march=native -DNDEBUG" -DCMAKE_CXX_FLAGS_RELEASE="-O3 -march=native -DNDEBUG" ..
make
./PCQM -h
```


## Build GraphSIM
Optional. Requires MATLAB. Used by `lib/metrics/graph_sim_wrapper.py`.
```shell
git clone https://github.com/pengpeng-yu/GraphSIM.git
# Official implementation: https://github.com/NJUVISION/GraphSIM
# I made minor modifications to support custom file paths.
cd GraphSIM
unzip gspbox-master.zip
cd gspbox-master
matlab  # enter MATLAB env
gsp_install
exit
```
You can terminate multiple MATLAB processes with one command `ps -uax |grep "MATLAB" | awk '{print $2}' | xargs kill`.


## Prepare pcc-geo-color
Optional. Used by `scripts/test_pcc_geo_color.py`. 

```
git clone https://github.com/pengpeng-yu/pcc-geo-color.git
# I made minor modifications to support custom file paths.
```
You need to prepare your python environment and download pretrained models according to their README.md.
Then, check if the project and the test data are placed in the paths defined in `scripts/test_pcc_geo_color.py`.
Finally, you can run `python scripts/test_pcc_geo_color.py`. 


## Contact
me for any build issue. <yupp5@mail2.sysu.edu.cn>